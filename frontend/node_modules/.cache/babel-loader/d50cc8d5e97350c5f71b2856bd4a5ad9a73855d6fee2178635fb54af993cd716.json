{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\EFTA\\\\Desktop\\\\asdas2\\\\frontend\\\\src\\\\pages\\\\Payment.jsx\",\n  _s = $RefreshSig$();\n// frontend/pages/Payment.jsx (GÜNCEL HALİ)\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useCart } from \"../context/CartContext\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { createOrder } from \"../api/orderApi\";\nimport { fetchUserAddresses } from \"../api/userApi\"; // YENİ: Kullanıcı adreslerini getirme\nimport { useForm } from \"react-hook-form\";\nimport { MapPin, CreditCard, Loader2 } from \"lucide-react\"; // İkonlar\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Payment = () => {\n  _s();\n  const {\n    cartItems,\n    total,\n    clearCart\n  } = useCart();\n  const {\n    token,\n    isAuthenticated,\n    loading: authLoading\n  } = useAuth();\n  const navigate = useNavigate();\n  const [addresses, setAddresses] = useState([]);\n  const [selectedAddress, setSelectedAddress] = useState(null);\n  const [selectedPaymentMethod, setSelectedPaymentMethod] = useState(\"cashOnDelivery\"); // Varsayılan veya tek seçenek\n  const [loading, setLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [fetchingAddresses, setFetchingAddresses] = useState(true); // Adresleri çekme durumu\n\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    // form alanlarını manuel ayarlamak için\n    formState: {\n      errors\n    }\n  } = useForm();\n\n  // Sepet boşsa veya oturum açılmamışsa yönlendirme\n  useEffect(() => {\n    if (!authLoading) {\n      if (!isAuthenticated) {\n        navigate(\"/login\", {\n          replace: true\n        });\n        return;\n      }\n      if (cartItems.length === 0) {\n        setErrorMessage(\"Sepetiniz boş. Lütfen önce ürün ekleyin.\");\n        // navigate(\"/\", { replace: true }); // İsterseniz direk ana sayfaya yönlendirebilirsiniz\n        return;\n      }\n    }\n  }, [authLoading, isAuthenticated, cartItems, navigate]);\n\n  // Kullanıcı adreslerini çekme\n  useEffect(() => {\n    if (isAuthenticated && token && cartItems.length > 0) {\n      const getAddresses = async () => {\n        try {\n          setFetchingAddresses(true);\n          const data = await fetchUserAddresses(token);\n          setAddresses(data);\n          // Eğer varsayılan bir adres varsa onu seç\n          const defaultAddr = data.find(addr => addr.isDefault);\n          if (defaultAddr) {\n            setSelectedAddress(defaultAddr);\n            // Form alanlarını varsayılan adresle doldur\n            setValue(\"address\", defaultAddr.address);\n            setValue(\"city\", defaultAddr.city);\n            setValue(\"postalCode\", defaultAddr.postalCode);\n            setValue(\"country\", defaultAddr.country);\n            setValue(\"phone\", defaultAddr.phone); // Telefon numarasını da ekleyelim\n          }\n        } catch (err) {\n          console.error(\"Adresleri çekerken hata:\", err);\n          setErrorMessage(err.message || \"Adresler yüklenirken bir hata oluştu.\");\n        } finally {\n          setFetchingAddresses(false);\n        }\n      };\n      getAddresses();\n    }\n  }, [isAuthenticated, token, cartItems, setValue]);\n\n  // Adres seçimi değiştiğinde form alanlarını güncelle\n  const handleAddressSelect = address => {\n    setSelectedAddress(address);\n    setValue(\"address\", address.address);\n    setValue(\"city\", address.city);\n    setValue(\"postalCode\", address.postalCode);\n    setValue(\"country\", address.country);\n    setValue(\"phone\", address.phone);\n  };\n  const onSubmit = async data => {\n    setLoading(true);\n    setErrorMessage(\"\");\n    if (!token) {\n      setErrorMessage(\"Sipariş oluşturmak için lütfen giriş yapın.\");\n      setLoading(false);\n      return;\n    }\n    if (!selectedAddress) {\n      setErrorMessage(\"Lütfen bir teslimat adresi seçin veya yeni bir adres girin.\");\n      setLoading(false);\n      return;\n    }\n\n    // Ödeme yöntemi seçimi placeholder (şimdilik sadece 'Kapıda Ödeme' varmış gibi)\n    if (selectedPaymentMethod === \"none\") {\n      setErrorMessage(\"Lütfen bir ödeme yöntemi seçin.\");\n      setLoading(false);\n      return;\n    }\n    try {\n      const orderData = {\n        products: cartItems.map(item => ({\n          product: item._id,\n          quantity: item.quantity,\n          price: item.discountPrice || item.price\n        })),\n        shippingInfo: {\n          address: selectedAddress.address,\n          // Seçilen adresin bilgilerini kullan\n          city: selectedAddress.city,\n          postalCode: selectedAddress.postalCode,\n          country: selectedAddress.country,\n          phone: selectedAddress.phone // Eklenen telefon numarası\n        },\n        paymentMethod: selectedPaymentMethod // Seçilen ödeme yöntemini gönder\n        // Diğer ödeme bilgileri (kart, vb.) burada eklenebilir.\n      };\n      const createdOrder = await createOrder(orderData, token);\n      clearCart();\n      navigate(\"/order-success\", {\n        state: {\n          orderId: createdOrder._id,\n          totalPrice: createdOrder.totalPrice\n        }\n      });\n    } catch (error) {\n      console.error(\"Sipariş oluşturma hatası:\", error);\n      setErrorMessage(error.message || \"Sipariş oluşturulurken bir hata oluştu.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Sepet boşsa veya adresler yükleniyorsa bekleme ekranı\n  if (authLoading || fetchingAddresses || cartItems.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-900 text-white p-6 flex justify-center items-center\",\n      children: cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-red-400\",\n        children: \"Sepetiniz bo\\u015F. L\\xFCtfen \\xF6nce \\xFCr\\xFCn ekleyin.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"animate-spin mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 44\n        }, this), \"Y\\xFCkleniyor...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-900 text-white p-6 flex justify-center items-start\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800 p-8 rounded-xl shadow-lg w-full max-w-3xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold mb-6 text-center\",\n        children: \"Sipari\\u015Fi Tamamla\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold mb-4 text-green-400\",\n          children: [\"Toplam Tutar: \\u20BA\", total.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-4 text-center text-red-400 mb-4\",\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold mb-3 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(MapPin, {\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), \" Teslimat Adresi Se\\xE7in\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), addresses.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400 mb-4\",\n            children: \"Kay\\u0131tl\\u0131 adresiniz bulunmamaktad\\u0131r. L\\xFCtfen yeni bir adres ekleyin veya a\\u015Fa\\u011F\\u0131daki formu doldurun.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\",\n            children: addresses.map(addr => /*#__PURE__*/_jsxDEV(\"label\", {\n              className: `block p-4 border rounded-md cursor-pointer transition-colors ${selectedAddress && selectedAddress._id === addr._id ? \"border-green-500 ring-2 ring-green-500 bg-green-900\" : \"border-gray-600 hover:border-gray-400 bg-gray-700\"}`,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"shippingAddress\",\n                value: addr._id,\n                checked: selectedAddress && selectedAddress._id === addr._id,\n                onChange: () => handleAddressSelect(addr),\n                className: \"hidden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-start\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-grow\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-semibold text-lg\",\n                    children: addr.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-300 text-sm\",\n                    children: addr.address\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-400 text-xs\",\n                    children: [addr.city, \", \", addr.postalCode, \", \", addr.country]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-400 text-xs\",\n                    children: [\"Tel: \", addr.phone]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 23\n                }, this), addr.isDefault && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2 text-xs bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100 px-2 py-1 rounded-full\",\n                  children: \"Varsay\\u0131lan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 21\n              }, this)]\n            }, addr._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 p-4 border border-gray-600 rounded-md bg-gray-700\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold mb-3\",\n              children: \"Veya Yeni Adres Girin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"addressInput\",\n                  className: \"block text-sm font-medium text-gray-300\",\n                  children: \"Adres\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"addressInput\",\n                  type: \"text\",\n                  ...register(\"address\", {\n                    required: \"Adres zorunludur.\"\n                  }),\n                  className: \"mt-1 block w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 text-white\",\n                  onChange: e => setSelectedAddress(prev => ({\n                    ...prev,\n                    address: e.target.value\n                  })) // Manuel girişte seçili adresi güncelle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 19\n                }, this), errors.address && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-sm text-red-400\",\n                  children: errors.address.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"cityInput\",\n                  className: \"block text-sm font-medium text-gray-300\",\n                  children: \"\\u015Eehir\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"cityInput\",\n                  type: \"text\",\n                  ...register(\"city\", {\n                    required: \"Şehir zorunludur.\"\n                  }),\n                  className: \"mt-1 block w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 text-white\",\n                  onChange: e => setSelectedAddress(prev => ({\n                    ...prev,\n                    city: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 19\n                }, this), errors.city && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-sm text-red-400\",\n                  children: errors.city.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"postalCodeInput\",\n                  className: \"block text-sm font-medium text-gray-300\",\n                  children: \"Posta Kodu\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"postalCodeInput\",\n                  type: \"text\",\n                  ...register(\"postalCode\", {\n                    required: \"Posta kodu zorunludur.\"\n                  }),\n                  className: \"mt-1 block w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 text-white\",\n                  onChange: e => setSelectedAddress(prev => ({\n                    ...prev,\n                    postalCode: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 19\n                }, this), errors.postalCode && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-sm text-red-400\",\n                  children: errors.postalCode.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"countryInput\",\n                  className: \"block text-sm font-medium text-gray-300\",\n                  children: \"\\xDClke\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"countryInput\",\n                  type: \"text\",\n                  ...register(\"country\", {\n                    required: \"Ülke zorunludur.\"\n                  }),\n                  className: \"mt-1 block w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 text-white\",\n                  onChange: e => setSelectedAddress(prev => ({\n                    ...prev,\n                    country: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 19\n                }, this), errors.country && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-sm text-red-400\",\n                  children: errors.country.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"phoneInput\",\n                  className: \"block text-sm font-medium text-gray-300\",\n                  children: \"Telefon Numaras\\u0131\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"phoneInput\",\n                  type: \"text\",\n                  ...register(\"phone\", {\n                    required: \"Telefon numarası zorunludur.\"\n                  }),\n                  className: \"mt-1 block w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 text-white\",\n                  onChange: e => setSelectedAddress(prev => ({\n                    ...prev,\n                    phone: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 19\n                }, this), errors.phone && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-sm text-red-400\",\n                  children: errors.phone.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold mb-3 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(CreditCard, {\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this), \" \\xD6deme Y\\xF6ntemi Se\\xE7in\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: `block p-4 border rounded-md cursor-pointer transition-colors ${selectedPaymentMethod === \"cashOnDelivery\" ? \"border-green-500 ring-2 ring-green-500 bg-green-900\" : \"border-gray-600 hover:border-gray-400 bg-gray-700\"}`,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"paymentMethod\",\n                value: \"cashOnDelivery\",\n                checked: selectedPaymentMethod === \"cashOnDelivery\",\n                onChange: () => setSelectedPaymentMethod(\"cashOnDelivery\"),\n                className: \"mr-2 hidden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold text-lg\",\n                children: \"Kap\\u0131da \\xD6deme\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-300 text-sm\",\n                children: \"\\xDCr\\xFCnleri teslim al\\u0131rken nakit veya kart ile \\xF6deme yapabilirsiniz.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading || !selectedAddress || !selectedPaymentMethod || cartItems.length === 0,\n          className: `w-full py-3 px-4 rounded-md text-lg font-semibold transition-colors flex items-center justify-center ${loading || !selectedAddress || !selectedPaymentMethod || cartItems.length === 0 ? \"bg-gray-600 cursor-not-allowed\" : \"bg-green-600 hover:bg-green-700\"}`,\n          children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Loader2, {\n              className: \"animate-spin mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 17\n            }, this), \" Sipari\\u015F Veriliyor...\"]\n          }, void 0, true) : \"Siparişi Onayla\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this);\n};\n_s(Payment, \"VqxfUEIfa/nTvM/O0sAxpXzARVE=\", false, function () {\n  return [useCart, useAuth, useNavigate, useForm];\n});\n_c = Payment;\nexport default Payment;\nvar _c;\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useCart","useAuth","createOrder","fetchUserAddresses","useForm","MapPin","CreditCard","Loader2","jsxDEV","_jsxDEV","Fragment","_Fragment","Payment","_s","cartItems","total","clearCart","token","isAuthenticated","loading","authLoading","navigate","addresses","setAddresses","selectedAddress","setSelectedAddress","selectedPaymentMethod","setSelectedPaymentMethod","setLoading","errorMessage","setErrorMessage","fetchingAddresses","setFetchingAddresses","register","handleSubmit","setValue","formState","errors","replace","length","getAddresses","data","defaultAddr","find","addr","isDefault","address","city","postalCode","country","phone","err","console","error","message","handleAddressSelect","onSubmit","orderData","products","map","item","product","_id","quantity","price","discountPrice","shippingInfo","paymentMethod","createdOrder","state","orderId","totalPrice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","type","name","value","checked","onChange","title","htmlFor","id","required","e","prev","target","disabled","_c","$RefreshReg$"],"sources":["C:/Users/EFTA/Desktop/asdas2/frontend/src/pages/Payment.jsx"],"sourcesContent":["// frontend/pages/Payment.jsx (GÜNCEL HALİ)\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useCart } from \"../context/CartContext\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { createOrder } from \"../api/orderApi\";\nimport { fetchUserAddresses } from \"../api/userApi\"; // YENİ: Kullanıcı adreslerini getirme\nimport { useForm } from \"react-hook-form\";\nimport { MapPin, CreditCard, Loader2 } from \"lucide-react\"; // İkonlar\n\nconst Payment = () => {\n  const { cartItems, total, clearCart } = useCart();\n  const { token, isAuthenticated, loading: authLoading } = useAuth();\n  const navigate = useNavigate();\n\n  const [addresses, setAddresses] = useState([]);\n  const [selectedAddress, setSelectedAddress] = useState(null);\n  const [selectedPaymentMethod, setSelectedPaymentMethod] = useState(\"cashOnDelivery\"); // Varsayılan veya tek seçenek\n  const [loading, setLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [fetchingAddresses, setFetchingAddresses] = useState(true); // Adresleri çekme durumu\n\n  const {\n    register,\n    handleSubmit,\n    setValue, // form alanlarını manuel ayarlamak için\n    formState: { errors },\n  } = useForm();\n\n  // Sepet boşsa veya oturum açılmamışsa yönlendirme\n  useEffect(() => {\n    if (!authLoading) {\n      if (!isAuthenticated) {\n        navigate(\"/login\", { replace: true });\n        return;\n      }\n      if (cartItems.length === 0) {\n        setErrorMessage(\"Sepetiniz boş. Lütfen önce ürün ekleyin.\");\n        // navigate(\"/\", { replace: true }); // İsterseniz direk ana sayfaya yönlendirebilirsiniz\n        return;\n      }\n    }\n  }, [authLoading, isAuthenticated, cartItems, navigate]);\n\n\n  // Kullanıcı adreslerini çekme\n  useEffect(() => {\n    if (isAuthenticated && token && cartItems.length > 0) {\n      const getAddresses = async () => {\n        try {\n          setFetchingAddresses(true);\n          const data = await fetchUserAddresses(token);\n          setAddresses(data);\n          // Eğer varsayılan bir adres varsa onu seç\n          const defaultAddr = data.find(addr => addr.isDefault);\n          if (defaultAddr) {\n            setSelectedAddress(defaultAddr);\n            // Form alanlarını varsayılan adresle doldur\n            setValue(\"address\", defaultAddr.address);\n            setValue(\"city\", defaultAddr.city);\n            setValue(\"postalCode\", defaultAddr.postalCode);\n            setValue(\"country\", defaultAddr.country);\n            setValue(\"phone\", defaultAddr.phone); // Telefon numarasını da ekleyelim\n          }\n        } catch (err) {\n          console.error(\"Adresleri çekerken hata:\", err);\n          setErrorMessage(err.message || \"Adresler yüklenirken bir hata oluştu.\");\n        } finally {\n          setFetchingAddresses(false);\n        }\n      };\n      getAddresses();\n    }\n  }, [isAuthenticated, token, cartItems, setValue]);\n\n  // Adres seçimi değiştiğinde form alanlarını güncelle\n  const handleAddressSelect = (address) => {\n    setSelectedAddress(address);\n    setValue(\"address\", address.address);\n    setValue(\"city\", address.city);\n    setValue(\"postalCode\", address.postalCode);\n    setValue(\"country\", address.country);\n    setValue(\"phone\", address.phone);\n  };\n\n  const onSubmit = async (data) => {\n    setLoading(true);\n    setErrorMessage(\"\");\n\n    if (!token) {\n      setErrorMessage(\"Sipariş oluşturmak için lütfen giriş yapın.\");\n      setLoading(false);\n      return;\n    }\n\n    if (!selectedAddress) {\n      setErrorMessage(\"Lütfen bir teslimat adresi seçin veya yeni bir adres girin.\");\n      setLoading(false);\n      return;\n    }\n\n    // Ödeme yöntemi seçimi placeholder (şimdilik sadece 'Kapıda Ödeme' varmış gibi)\n    if (selectedPaymentMethod === \"none\") {\n      setErrorMessage(\"Lütfen bir ödeme yöntemi seçin.\");\n      setLoading(false);\n      return;\n    }\n\n    try {\n      const orderData = {\n        products: cartItems.map((item) => ({\n          product: item._id,\n          quantity: item.quantity,\n          price: item.discountPrice || item.price,\n        })),\n        shippingInfo: {\n          address: selectedAddress.address, // Seçilen adresin bilgilerini kullan\n          city: selectedAddress.city,\n          postalCode: selectedAddress.postalCode,\n          country: selectedAddress.country,\n          phone: selectedAddress.phone, // Eklenen telefon numarası\n        },\n        paymentMethod: selectedPaymentMethod, // Seçilen ödeme yöntemini gönder\n        // Diğer ödeme bilgileri (kart, vb.) burada eklenebilir.\n      };\n\n      const createdOrder = await createOrder(orderData, token);\n      clearCart();\n      navigate(\"/order-success\", {\n        state: {\n          orderId: createdOrder._id,\n          totalPrice: createdOrder.totalPrice,\n        },\n      });\n    } catch (error) {\n      console.error(\"Sipariş oluşturma hatası:\", error);\n      setErrorMessage(error.message || \"Sipariş oluşturulurken bir hata oluştu.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Sepet boşsa veya adresler yükleniyorsa bekleme ekranı\n  if (authLoading || fetchingAddresses || cartItems.length === 0) {\n    return (\n      <div className=\"min-h-screen bg-gray-900 text-white p-6 flex justify-center items-center\">\n        {cartItems.length === 0 ? (\n          <p className=\"text-center text-red-400\">Sepetiniz boş. Lütfen önce ürün ekleyin.</p>\n        ) : (\n          <p className=\"flex items-center\"><Loader2 className=\"animate-spin mr-2\" />Yükleniyor...</p>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white p-6 flex justify-center items-start\">\n      <div className=\"bg-gray-800 p-8 rounded-xl shadow-lg w-full max-w-3xl\">\n        <h1 className=\"text-3xl font-bold mb-6 text-center\">Siparişi Tamamla</h1>\n\n        <div className=\"mb-6\">\n          <h2 className=\"text-2xl font-semibold mb-4 text-green-400\">\n            Toplam Tutar: ₺{total.toFixed(2)}\n          </h2>\n        </div>\n\n        {errorMessage && (\n          <p className=\"mt-4 text-center text-red-400 mb-4\">{errorMessage}</p>\n        )}\n\n        <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n          {/* Adres Seçimi Bölümü */}\n          <div>\n            <h2 className=\"text-xl font-semibold mb-3 flex items-center\">\n              <MapPin className=\"mr-2\" /> Teslimat Adresi Seçin\n            </h2>\n            {addresses.length === 0 ? (\n              <p className=\"text-gray-400 mb-4\">Kayıtlı adresiniz bulunmamaktadır. Lütfen yeni bir adres ekleyin veya aşağıdaki formu doldurun.</p>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                {addresses.map((addr) => (\n                  <label\n                    key={addr._id}\n                    className={`block p-4 border rounded-md cursor-pointer transition-colors ${\n                      selectedAddress && selectedAddress._id === addr._id\n                        ? \"border-green-500 ring-2 ring-green-500 bg-green-900\"\n                        : \"border-gray-600 hover:border-gray-400 bg-gray-700\"\n                    }`}\n                  >\n                    <input\n                      type=\"radio\"\n                      name=\"shippingAddress\"\n                      value={addr._id}\n                      checked={selectedAddress && selectedAddress._id === addr._id}\n                      onChange={() => handleAddressSelect(addr)}\n                      className=\"hidden\"\n                    />\n                    <div className=\"flex items-start\">\n                      <div className=\"flex-grow\">\n                        <p className=\"font-semibold text-lg\">{addr.title}</p>\n                        <p className=\"text-gray-300 text-sm\">{addr.address}</p>\n                        <p className=\"text-gray-400 text-xs\">{addr.city}, {addr.postalCode}, {addr.country}</p>\n                        <p className=\"text-gray-400 text-xs\">Tel: {addr.phone}</p>\n                      </div>\n                      {addr.isDefault && (\n                        <span className=\"ml-2 text-xs bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100 px-2 py-1 rounded-full\">\n                          Varsayılan\n                        </span>\n                      )}\n                    </div>\n                  </label>\n                ))}\n              </div>\n            )}\n\n            {/* Yeni adres ekleme formu (gizlenebilir/gösterilebilir) */}\n            <div className=\"mt-6 p-4 border border-gray-600 rounded-md bg-gray-700\">\n              <h3 className=\"text-lg font-semibold mb-3\">Veya Yeni Adres Girin</h3>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label htmlFor=\"addressInput\" className=\"block text-sm font-medium text-gray-300\">\n                    Adres\n                  </label>\n                  <input\n                    id=\"addressInput\"\n                    type=\"text\"\n                    {...register(\"address\", { required: \"Adres zorunludur.\" })}\n                    className=\"mt-1 block w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 text-white\"\n                    onChange={(e) => setSelectedAddress(prev => ({...prev, address: e.target.value}))} // Manuel girişte seçili adresi güncelle\n                  />\n                  {errors.address && (\n                    <p className=\"mt-1 text-sm text-red-400\">{errors.address.message}</p>\n                  )}\n                </div>\n                <div>\n                  <label htmlFor=\"cityInput\" className=\"block text-sm font-medium text-gray-300\">\n                    Şehir\n                  </label>\n                  <input\n                    id=\"cityInput\"\n                    type=\"text\"\n                    {...register(\"city\", { required: \"Şehir zorunludur.\" })}\n                    className=\"mt-1 block w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 text-white\"\n                    onChange={(e) => setSelectedAddress(prev => ({...prev, city: e.target.value}))}\n                  />\n                  {errors.city && (\n                    <p className=\"mt-1 text-sm text-red-400\">{errors.city.message}</p>\n                  )}\n                </div>\n                <div>\n                  <label htmlFor=\"postalCodeInput\" className=\"block text-sm font-medium text-gray-300\">\n                    Posta Kodu\n                  </label>\n                  <input\n                    id=\"postalCodeInput\"\n                    type=\"text\"\n                    {...register(\"postalCode\", { required: \"Posta kodu zorunludur.\" })}\n                    className=\"mt-1 block w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 text-white\"\n                    onChange={(e) => setSelectedAddress(prev => ({...prev, postalCode: e.target.value}))}\n                  />\n                  {errors.postalCode && (\n                    <p className=\"mt-1 text-sm text-red-400\">{errors.postalCode.message}</p>\n                  )}\n                </div>\n                <div>\n                  <label htmlFor=\"countryInput\" className=\"block text-sm font-medium text-gray-300\">\n                    Ülke\n                  </label>\n                  <input\n                    id=\"countryInput\"\n                    type=\"text\"\n                    {...register(\"country\", { required: \"Ülke zorunludur.\" })}\n                    className=\"mt-1 block w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 text-white\"\n                    onChange={(e) => setSelectedAddress(prev => ({...prev, country: e.target.value}))}\n                  />\n                  {errors.country && (\n                    <p className=\"mt-1 text-sm text-red-400\">{errors.country.message}</p>\n                  )}\n                </div>\n                <div>\n                  <label htmlFor=\"phoneInput\" className=\"block text-sm font-medium text-gray-300\">\n                    Telefon Numarası\n                  </label>\n                  <input\n                    id=\"phoneInput\"\n                    type=\"text\"\n                    {...register(\"phone\", { required: \"Telefon numarası zorunludur.\" })}\n                    className=\"mt-1 block w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 text-white\"\n                    onChange={(e) => setSelectedAddress(prev => ({...prev, phone: e.target.value}))}\n                  />\n                  {errors.phone && (\n                    <p className=\"mt-1 text-sm text-red-400\">{errors.phone.message}</p>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Ödeme Yöntemi Seçimi Bölümü */}\n          <div className=\"mt-8\">\n            <h2 className=\"text-xl font-semibold mb-3 flex items-center\">\n              <CreditCard className=\"mr-2\" /> Ödeme Yöntemi Seçin\n            </h2>\n            <div className=\"space-y-3\">\n              <label\n                className={`block p-4 border rounded-md cursor-pointer transition-colors ${\n                  selectedPaymentMethod === \"cashOnDelivery\"\n                    ? \"border-green-500 ring-2 ring-green-500 bg-green-900\"\n                    : \"border-gray-600 hover:border-gray-400 bg-gray-700\"\n                }`}\n              >\n                <input\n                  type=\"radio\"\n                  name=\"paymentMethod\"\n                  value=\"cashOnDelivery\"\n                  checked={selectedPaymentMethod === \"cashOnDelivery\"}\n                  onChange={() => setSelectedPaymentMethod(\"cashOnDelivery\")}\n                  className=\"mr-2 hidden\"\n                />\n                <span className=\"font-semibold text-lg\">Kapıda Ödeme</span>\n                <p className=\"text-gray-300 text-sm\">Ürünleri teslim alırken nakit veya kart ile ödeme yapabilirsiniz.</p>\n              </label>\n\n              {/* İleride diğer ödeme yöntemlerini buraya ekleyebilirsiniz */}\n              {/* <label\n                className={`block p-4 border rounded-md cursor-not-allowed opacity-50 ${\n                  selectedPaymentMethod === \"creditCard\"\n                    ? \"border-green-500 ring-2 ring-green-500 bg-green-900\"\n                    : \"border-gray-600 bg-gray-700\"\n                }`}\n              >\n                <input\n                  type=\"radio\"\n                  name=\"paymentMethod\"\n                  value=\"creditCard\"\n                  checked={selectedPaymentMethod === \"creditCard\"}\n                  onChange={() => setSelectedPaymentMethod(\"creditCard\")}\n                  className=\"mr-2 hidden\"\n                  disabled // Şimdilik devre dışı\n                />\n                <span className=\"font-semibold text-lg\">Kredi Kartı (Yakında)</span>\n                <p className=\"text-gray-300 text-sm\">Güvenli ödeme altyapısı ile kredi kartınızla ödeme yapın.</p>\n              </label> */}\n            </div>\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={loading || !selectedAddress || !selectedPaymentMethod || cartItems.length === 0}\n            className={`w-full py-3 px-4 rounded-md text-lg font-semibold transition-colors flex items-center justify-center ${\n              loading || !selectedAddress || !selectedPaymentMethod || cartItems.length === 0\n                ? \"bg-gray-600 cursor-not-allowed\"\n                : \"bg-green-600 hover:bg-green-700\"\n            }`}\n          >\n            {loading ? (\n              <>\n                <Loader2 className=\"animate-spin mr-2\" /> Sipariş Veriliyor...\n              </>\n            ) : (\n              \"Siparişi Onayla\"\n            )}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Payment;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}