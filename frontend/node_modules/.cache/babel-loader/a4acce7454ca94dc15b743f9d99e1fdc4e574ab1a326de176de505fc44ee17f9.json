{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\EFTA\\\\Desktop\\\\netpazar\\\\frontend\\\\src\\\\components\\\\ProductCard.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport { useTheme } from '../context/ThemeContext';\nimport { useCart } from '../context/CartContext';\nimport { ShoppingCart, Heart } from 'react-feather';\nimport { useFavorites } from '../context/FavoriteContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductCard = ({\n  product\n}) => {\n  _s();\n  const {\n    theme\n  } = useTheme();\n  const {\n    addToCart\n  } = useCart();\n  const {\n    favorites,\n    toggleFavorite\n  } = useFavorites();\n\n  // API'nin temel URL'ini çevre değişkeninden alıyoruz.\n  const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || \"\";\n\n  // Resimlerin kök URL'i. Backend'inizde \"http://localhost:5000/uploads\" olduğunu biliyoruz.\n  const IMAGE_ROOT_URL = \"http://localhost:5000/uploads\"; // Bu URL'in doğru olduğundan emin olun!\n\n  // Yardımcı fonksiyon: Görsel URL'ini güvenli bir şekilde oluşturur.\n  // product.image'in \"uploads/resim.jpg\" veya \"resim.jpg\" gelme durumunu ele alır.\n  const getProductImageUrl = imageName => {\n    if (!imageName) {\n      return \"https://via.placeholder.com/400x300?text=Ürün+Görseli+Mevcut+Değil\";\n    }\n\n    // Gelen imageName'in başında 'uploads/' veya '/uploads/' varsa,\n    // URL'yi doğrudan sunucunun kök URL'i ile birleştir.\n    if (imageName.startsWith('uploads/') || imageName.startsWith('/uploads/')) {\n      const serverRootUrl = API_BASE_URL.replace('/api', '');\n      const normalizedImagePath = imageName.startsWith('/') ? imageName : `/${imageName}`;\n      return `${serverRootUrl}${normalizedImagePath}`;\n    }\n\n    // Eğer imageName sadece dosya adıyorsa (örn. \"resim.jpg\"),\n    // IMAGE_ROOT_URL ile birleştiriyoruz.\n    return `${IMAGE_ROOT_URL}/${imageName}`;\n  };\n  const cardBgClass = theme === 'light' ? 'bg-white' : 'bg-gray-800';\n  const textClass = theme === 'light' ? 'text-gray-900' : 'text-white';\n  const priceClass = theme === 'light' ? 'text-primary' : 'text-primary-light';\n  const discountPriceClass = theme === 'light' ? 'text-green-600' : 'text-green-400';\n  const oldPriceClass = theme === 'light' ? 'text-gray-500 line-through' : 'text-gray-400 line-through';\n  const buttonClass = \"bg-primary hover:bg-primary-dark text-white p-2 rounded-full transition duration-300 transform hover:scale-110\";\n  const favoriteButtonClass = isFavorited => isFavorited ? \"text-danger hover:text-red-700\" : \"text-gray-400 hover:text-red-500\";\n  const isFavorited = favorites.some(item => item._id === product._id);\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: `relative border border-gray-200 rounded-lg p-4 shadow-sm flex flex-col items-center justify-between ${cardBgClass} ${textClass}`,\n    whileHover: {\n      y: -5,\n      boxShadow: theme === 'light' ? '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)' : '0 10px 15px -3px rgba(255, 255, 255, 0.1), 0 4px 6px -2px rgba(255, 255, 255, 0.05)'\n    },\n    transition: {\n      duration: 0.2\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => {\n        e.stopPropagation(); // Link'e tıklamayı engeller\n        toggleFavorite(product);\n      },\n      className: `absolute top-3 right-3 ${favoriteButtonClass(isFavorited)} z-10`,\n      \"aria-label\": \"Favorilere ekle/kald\\u0131r\",\n      children: /*#__PURE__*/_jsxDEV(Heart, {\n        size: 24,\n        fill: isFavorited ? \"currentColor\" : \"none\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: `/products/${product._id}`,\n      className: \"flex flex-col items-center text-center w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: getProductImageUrl(product.image) // <<< BURASI GÜNCELLENDİ\n        ,\n        alt: product.name,\n        className: \"w-full h-48 object-contain mb-4 rounded\" // object-contain kullanıldı\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-2 line-clamp-2\",\n        children: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), product.discountPrice ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: `${oldPriceClass} text-sm`,\n          children: [product.price, \" TL\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `${discountPriceClass} text-xl font-bold`,\n          children: [product.discountPrice, \" TL\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `${priceClass} text-xl font-bold`,\n        children: [product.price, \" TL\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => {\n        e.stopPropagation(); // Link'e tıklamayı engeller\n        addToCart(product);\n      },\n      className: `mt-4 ${buttonClass}`,\n      \"aria-label\": \"Sepete ekle\",\n      children: /*#__PURE__*/_jsxDEV(ShoppingCart, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductCard, \"h1S+pzoLdBEFQaDlhBGUR4DNaOs=\", false, function () {\n  return [useTheme, useCart, useFavorites];\n});\n_c = ProductCard;\nexport default ProductCard;\nvar _c;\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"names":["React","Link","motion","useTheme","useCart","ShoppingCart","Heart","useFavorites","jsxDEV","_jsxDEV","ProductCard","product","_s","theme","addToCart","favorites","toggleFavorite","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","IMAGE_ROOT_URL","getProductImageUrl","imageName","startsWith","serverRootUrl","replace","normalizedImagePath","cardBgClass","textClass","priceClass","discountPriceClass","oldPriceClass","buttonClass","favoriteButtonClass","isFavorited","some","item","_id","div","className","whileHover","y","boxShadow","transition","duration","children","onClick","e","stopPropagation","size","fill","fileName","_jsxFileName","lineNumber","columnNumber","to","src","image","alt","name","discountPrice","price","_c","$RefreshReg$"],"sources":["C:/Users/EFTA/Desktop/netpazar/frontend/src/components/ProductCard.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport { useTheme } from '../context/ThemeContext';\r\nimport { useCart } from '../context/CartContext';\r\nimport { ShoppingCart, Heart } from 'react-feather';\r\nimport { useFavorites } from '../context/FavoriteContext';\r\n\r\nconst ProductCard = ({ product }) => {\r\n    const { theme } = useTheme();\r\n    const { addToCart } = useCart();\r\n    const { favorites, toggleFavorite } = useFavorites();\r\n\r\n    // API'nin temel URL'ini çevre değişkeninden alıyoruz.\r\n    const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || \"\";\r\n\r\n    // Resimlerin kök URL'i. Backend'inizde \"http://localhost:5000/uploads\" olduğunu biliyoruz.\r\n    const IMAGE_ROOT_URL = \"http://localhost:5000/uploads\"; // Bu URL'in doğru olduğundan emin olun!\r\n\r\n    // Yardımcı fonksiyon: Görsel URL'ini güvenli bir şekilde oluşturur.\r\n    // product.image'in \"uploads/resim.jpg\" veya \"resim.jpg\" gelme durumunu ele alır.\r\n    const getProductImageUrl = (imageName) => {\r\n        if (!imageName) {\r\n            return \"https://via.placeholder.com/400x300?text=Ürün+Görseli+Mevcut+Değil\";\r\n        }\r\n\r\n        // Gelen imageName'in başında 'uploads/' veya '/uploads/' varsa,\r\n        // URL'yi doğrudan sunucunun kök URL'i ile birleştir.\r\n        if (imageName.startsWith('uploads/') || imageName.startsWith('/uploads/')) {\r\n            const serverRootUrl = API_BASE_URL.replace('/api', '');\r\n            const normalizedImagePath = imageName.startsWith('/') ? imageName : `/${imageName}`;\r\n            return `${serverRootUrl}${normalizedImagePath}`;\r\n        }\r\n\r\n        // Eğer imageName sadece dosya adıyorsa (örn. \"resim.jpg\"),\r\n        // IMAGE_ROOT_URL ile birleştiriyoruz.\r\n        return `${IMAGE_ROOT_URL}/${imageName}`;\r\n    };\r\n\r\n    const cardBgClass = theme === 'light' ? 'bg-white' : 'bg-gray-800';\r\n    const textClass = theme === 'light' ? 'text-gray-900' : 'text-white';\r\n    const priceClass = theme === 'light' ? 'text-primary' : 'text-primary-light';\r\n    const discountPriceClass = theme === 'light' ? 'text-green-600' : 'text-green-400';\r\n    const oldPriceClass = theme === 'light' ? 'text-gray-500 line-through' : 'text-gray-400 line-through';\r\n    const buttonClass = \"bg-primary hover:bg-primary-dark text-white p-2 rounded-full transition duration-300 transform hover:scale-110\";\r\n    const favoriteButtonClass = (isFavorited) =>\r\n        isFavorited\r\n            ? \"text-danger hover:text-red-700\"\r\n            : \"text-gray-400 hover:text-red-500\";\r\n\r\n    const isFavorited = favorites.some(item => item._id === product._id);\r\n\r\n    return (\r\n        <motion.div\r\n            className={`relative border border-gray-200 rounded-lg p-4 shadow-sm flex flex-col items-center justify-between ${cardBgClass} ${textClass}`}\r\n            whileHover={{ y: -5, boxShadow: theme === 'light' ? '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)' : '0 10px 15px -3px rgba(255, 255, 255, 0.1), 0 4px 6px -2px rgba(255, 255, 255, 0.05)' }}\r\n            transition={{ duration: 0.2 }}\r\n        >\r\n            <button\r\n                onClick={(e) => {\r\n                    e.stopPropagation(); // Link'e tıklamayı engeller\r\n                    toggleFavorite(product);\r\n                }}\r\n                className={`absolute top-3 right-3 ${favoriteButtonClass(isFavorited)} z-10`}\r\n                aria-label=\"Favorilere ekle/kaldır\"\r\n            >\r\n                <Heart size={24} fill={isFavorited ? \"currentColor\" : \"none\"} />\r\n            </button>\r\n            <Link to={`/products/${product._id}`} className=\"flex flex-col items-center text-center w-full\">\r\n                <img\r\n                    src={getProductImageUrl(product.image)} // <<< BURASI GÜNCELLENDİ\r\n                    alt={product.name}\r\n                    className=\"w-full h-48 object-contain mb-4 rounded\" // object-contain kullanıldı\r\n                />\r\n                <h3 className=\"text-lg font-semibold mb-2 line-clamp-2\">{product.name}</h3>\r\n                {product.discountPrice ? (\r\n                    <div className=\"flex flex-col items-center\">\r\n                        <span className={`${oldPriceClass} text-sm`}>{product.price} TL</span>\r\n                        <span className={`${discountPriceClass} text-xl font-bold`}>{product.discountPrice} TL</span>\r\n                    </div>\r\n                ) : (\r\n                    <span className={`${priceClass} text-xl font-bold`}>{product.price} TL</span>\r\n                )}\r\n            </Link>\r\n            <button\r\n                onClick={(e) => {\r\n                    e.stopPropagation(); // Link'e tıklamayı engeller\r\n                    addToCart(product);\r\n                }}\r\n                className={`mt-4 ${buttonClass}`}\r\n                aria-label=\"Sepete ekle\"\r\n            >\r\n                <ShoppingCart size={20} />\r\n            </button>\r\n        </motion.div>\r\n    );\r\n};\r\n\r\nexport default ProductCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}