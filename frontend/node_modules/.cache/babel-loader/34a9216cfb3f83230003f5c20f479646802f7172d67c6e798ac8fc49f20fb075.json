{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\EFTA\\\\Desktop\\\\netpazar\\\\frontend\\\\src\\\\components\\\\ProductCard.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport { useTheme } from '../context/ThemeContext';\nimport { useCart } from '../context/CartContext';\nimport { ShoppingCart, Heart } from 'react-feather';\nimport { useFavorites } from '../context/FavoriteContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductCard = ({\n  product\n}) => {\n  _s();\n  const {\n    theme\n  } = useTheme();\n  const {\n    addToCart\n  } = useCart();\n  const {\n    favorites,\n    toggleFavorite\n  } = useFavorites();\n\n  // API'nin temel URL'ini çevre değişkeninden alıyoruz.\n  // Eğer backend'iniz http://localhost:5000/api adresinde çalışıyorsa\n  const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || \"http://localhost:5000/api\";\n\n  // Resimlerin yüklendiği sunucu kök URL'i.\n  // API_BASE_URL'den '/api' kısmını çıkararak resimlerin sunulduğu ana URL'i elde ediyoruz.\n  const BASE_SERVER_URL = API_BASE_URL.includes('/api') ? API_BASE_URL.replace('/api', '') : API_BASE_URL;\n\n  // getProductImageUrl fonksiyonuna artık ihtiyacımız yok.\n  // URL'i doğrudan product.images[0].url'den oluşturacağız.\n\n  const cardBgClass = theme === 'light' ? 'bg-white' : 'bg-gray-800';\n  const textClass = theme === 'light' ? 'text-gray-900' : 'text-white';\n  const priceClass = theme === 'light' ? 'text-primary' : 'text-primary-light';\n  const discountPriceClass = theme === 'light' ? 'text-green-600' : 'text-green-400';\n  const oldPriceClass = theme === 'light' ? 'text-gray-500 line-through' : 'text-gray-400 line-through';\n  const buttonClass = \"bg-primary hover:bg-primary-dark text-white p-2 rounded-full transition duration-300 transform hover:scale-110\";\n  const favoriteButtonClass = isFavorited => isFavorited ? \"text-danger hover:text-red-700\" : \"text-gray-400 hover:text-red-500\";\n  const isFavorited = favorites.some(item => item._id === product._id);\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: `relative border border-gray-200 rounded-lg p-4 shadow-sm flex flex-col items-center justify-between ${cardBgClass} ${textClass}`,\n    whileHover: {\n      y: -5,\n      boxShadow: theme === 'light' ? '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)' : '0 10px 15px -3px rgba(255, 255, 255, 0.1), 0 4px 6px -2px rgba(255, 255, 255, 0.05)'\n    },\n    transition: {\n      duration: 0.2\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => {\n        e.stopPropagation(); // Link'e tıklamayı engeller\n        toggleFavorite(product);\n      },\n      className: `absolute top-3 right-3 ${favoriteButtonClass(isFavorited)} z-10`,\n      \"aria-label\": \"Favorilere ekle/kald\\u0131r\",\n      children: /*#__PURE__*/_jsxDEV(Heart, {\n        size: 24,\n        fill: isFavorited ? \"currentColor\" : \"none\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: `/products/${product._id}`,\n      className: \"flex flex-col items-center text-center w-full\",\n      children: [console.log(\"ProductCard - Product:\", product), console.log(\"ProductCard - Images array:\", product.images), console.log(\"ProductCard - First image URL from data:\", product.images && product.images.length > 0 ? product.images[0].url : \"No URL in data\"), console.log(\"ProductCard - Constructed Image SRC:\", product.images && product.images.length > 0 ? `${BASE_SERVER_URL}${product.images[0].url}` : \"Fallback image will be used\"), /*#__PURE__*/_jsxDEV(\"img\", {\n        // GÖRSEL KAYNAĞINI BURADA GÜNCELLEDİK\n        src: product.images && product.images.length > 0 ? `${BASE_SERVER_URL}${product.images[0].url}` : \"https://dummyimage.com/400x300/ccc/fff&text=Urun+Gorseli+Mevcut+Degil\" // Daha güvenilir dummy servis\n        ,\n        alt: product.name,\n        className: \"w-full h-48 object-contain mb-4 rounded\" // object-contain kullanıldı\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-2 line-clamp-2\",\n        children: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), product.discountPrice ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: `${oldPriceClass} text-sm`,\n          children: [product.price, \" TL\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `${discountPriceClass} text-xl font-bold`,\n          children: [product.discountPrice, \" TL\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `${priceClass} text-xl font-bold`,\n        children: [product.price, \" TL\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => {\n        e.stopPropagation(); // Link'e tıklamayı engeller\n        addToCart(product);\n      },\n      className: `mt-4 ${buttonClass}`,\n      \"aria-label\": \"Sepete ekle\",\n      children: /*#__PURE__*/_jsxDEV(ShoppingCart, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductCard, \"h1S+pzoLdBEFQaDlhBGUR4DNaOs=\", false, function () {\n  return [useTheme, useCart, useFavorites];\n});\n_c = ProductCard;\nexport default ProductCard;\nvar _c;\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"names":["React","Link","motion","useTheme","useCart","ShoppingCart","Heart","useFavorites","jsxDEV","_jsxDEV","ProductCard","product","_s","theme","addToCart","favorites","toggleFavorite","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","BASE_SERVER_URL","includes","replace","cardBgClass","textClass","priceClass","discountPriceClass","oldPriceClass","buttonClass","favoriteButtonClass","isFavorited","some","item","_id","div","className","whileHover","y","boxShadow","transition","duration","children","onClick","e","stopPropagation","size","fill","fileName","_jsxFileName","lineNumber","columnNumber","to","console","log","images","length","url","src","alt","name","discountPrice","price","_c","$RefreshReg$"],"sources":["C:/Users/EFTA/Desktop/netpazar/frontend/src/components/ProductCard.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport { useTheme } from '../context/ThemeContext';\r\nimport { useCart } from '../context/CartContext';\r\nimport { ShoppingCart, Heart } from 'react-feather';\r\nimport { useFavorites } from '../context/FavoriteContext';\r\n\r\nconst ProductCard = ({ product }) => {\r\n    const { theme } = useTheme();\r\n    const { addToCart } = useCart();\r\n    const { favorites, toggleFavorite } = useFavorites();\r\n\r\n    // API'nin temel URL'ini çevre değişkeninden alıyoruz.\r\n    // Eğer backend'iniz http://localhost:5000/api adresinde çalışıyorsa\r\n    const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || \"http://localhost:5000/api\";\r\n\r\n    // Resimlerin yüklendiği sunucu kök URL'i.\r\n    // API_BASE_URL'den '/api' kısmını çıkararak resimlerin sunulduğu ana URL'i elde ediyoruz.\r\n    const BASE_SERVER_URL = API_BASE_URL.includes('/api') ? API_BASE_URL.replace('/api', '') : API_BASE_URL;\r\n\r\n    // getProductImageUrl fonksiyonuna artık ihtiyacımız yok.\r\n    // URL'i doğrudan product.images[0].url'den oluşturacağız.\r\n\r\n    const cardBgClass = theme === 'light' ? 'bg-white' : 'bg-gray-800';\r\n    const textClass = theme === 'light' ? 'text-gray-900' : 'text-white';\r\n    const priceClass = theme === 'light' ? 'text-primary' : 'text-primary-light';\r\n    const discountPriceClass = theme === 'light' ? 'text-green-600' : 'text-green-400';\r\n    const oldPriceClass = theme === 'light' ? 'text-gray-500 line-through' : 'text-gray-400 line-through';\r\n    const buttonClass = \"bg-primary hover:bg-primary-dark text-white p-2 rounded-full transition duration-300 transform hover:scale-110\";\r\n    const favoriteButtonClass = (isFavorited) =>\r\n        isFavorited\r\n            ? \"text-danger hover:text-red-700\"\r\n            : \"text-gray-400 hover:text-red-500\";\r\n\r\n    const isFavorited = favorites.some(item => item._id === product._id);\r\n\r\n    return (\r\n        <motion.div\r\n            className={`relative border border-gray-200 rounded-lg p-4 shadow-sm flex flex-col items-center justify-between ${cardBgClass} ${textClass}`}\r\n            whileHover={{ y: -5, boxShadow: theme === 'light' ? '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)' : '0 10px 15px -3px rgba(255, 255, 255, 0.1), 0 4px 6px -2px rgba(255, 255, 255, 0.05)' }}\r\n            transition={{ duration: 0.2 }}\r\n        >\r\n            <button\r\n                onClick={(e) => {\r\n                    e.stopPropagation(); // Link'e tıklamayı engeller\r\n                    toggleFavorite(product);\r\n                }}\r\n                className={`absolute top-3 right-3 ${favoriteButtonClass(isFavorited)} z-10`}\r\n                aria-label=\"Favorilere ekle/kaldır\"\r\n            >\r\n                <Heart size={24} fill={isFavorited ? \"currentColor\" : \"none\"} />\r\n            </button>\r\n            <Link to={`/products/${product._id}`} className=\"flex flex-col items-center text-center w-full\">\r\n                {/* Konsola yazdırma satırları */}\r\n                {console.log(\"ProductCard - Product:\", product)}\r\n                {console.log(\"ProductCard - Images array:\", product.images)}\r\n                {console.log(\"ProductCard - First image URL from data:\", product.images && product.images.length > 0 ? product.images[0].url : \"No URL in data\")}\r\n                {console.log(\"ProductCard - Constructed Image SRC:\", product.images && product.images.length > 0\r\n                    ? `${BASE_SERVER_URL}${product.images[0].url}`\r\n                    : \"Fallback image will be used\")}\r\n\r\n                <img\r\n                    // GÖRSEL KAYNAĞINI BURADA GÜNCELLEDİK\r\n                    src={product.images && product.images.length > 0\r\n                        ? `${BASE_SERVER_URL}${product.images[0].url}`\r\n                        : \"https://dummyimage.com/400x300/ccc/fff&text=Urun+Gorseli+Mevcut+Degil\"} // Daha güvenilir dummy servis\r\n                    alt={product.name}\r\n                    className=\"w-full h-48 object-contain mb-4 rounded\" // object-contain kullanıldı\r\n                />\r\n                <h3 className=\"text-lg font-semibold mb-2 line-clamp-2\">{product.name}</h3>\r\n                {product.discountPrice ? (\r\n                    <div className=\"flex flex-col items-center\">\r\n                        <span className={`${oldPriceClass} text-sm`}>{product.price} TL</span>\r\n                        <span className={`${discountPriceClass} text-xl font-bold`}>{product.discountPrice} TL</span>\r\n                    </div>\r\n                ) : (\r\n                    <span className={`${priceClass} text-xl font-bold`}>{product.price} TL</span>\r\n                )}\r\n            </Link>\r\n            <button\r\n                onClick={(e) => {\r\n                    e.stopPropagation(); // Link'e tıklamayı engeller\r\n                    addToCart(product);\r\n                }}\r\n                className={`mt-4 ${buttonClass}`}\r\n                aria-label=\"Sepete ekle\"\r\n            >\r\n                <ShoppingCart size={20} />\r\n            </button>\r\n        </motion.div>\r\n    );\r\n};\r\n\r\nexport default ProductCard;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,IAAI,QAAQ,kBAAkB;AACvC,SAASC,MAAM,QAAQ,eAAe;AACtC,SAASC,QAAQ,QAAQ,yBAAyB;AAClD,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,YAAY,EAAEC,KAAK,QAAQ,eAAe;AACnD,SAASC,YAAY,QAAQ,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1D,MAAMC,WAAW,GAAGA,CAAC;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EACjC,MAAM;IAAEC;EAAM,CAAC,GAAGV,QAAQ,CAAC,CAAC;EAC5B,MAAM;IAAEW;EAAU,CAAC,GAAGV,OAAO,CAAC,CAAC;EAC/B,MAAM;IAAEW,SAAS;IAAEC;EAAe,CAAC,GAAGT,YAAY,CAAC,CAAC;;EAEpD;EACA;EACA,MAAMU,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB,IAAI,2BAA2B;;EAEtF;EACA;EACA,MAAMC,eAAe,GAAGJ,YAAY,CAACK,QAAQ,CAAC,MAAM,CAAC,GAAGL,YAAY,CAACM,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,GAAGN,YAAY;;EAEvG;EACA;;EAEA,MAAMO,WAAW,GAAGX,KAAK,KAAK,OAAO,GAAG,UAAU,GAAG,aAAa;EAClE,MAAMY,SAAS,GAAGZ,KAAK,KAAK,OAAO,GAAG,eAAe,GAAG,YAAY;EACpE,MAAMa,UAAU,GAAGb,KAAK,KAAK,OAAO,GAAG,cAAc,GAAG,oBAAoB;EAC5E,MAAMc,kBAAkB,GAAGd,KAAK,KAAK,OAAO,GAAG,gBAAgB,GAAG,gBAAgB;EAClF,MAAMe,aAAa,GAAGf,KAAK,KAAK,OAAO,GAAG,4BAA4B,GAAG,4BAA4B;EACrG,MAAMgB,WAAW,GAAG,gHAAgH;EACpI,MAAMC,mBAAmB,GAAIC,WAAW,IACpCA,WAAW,GACL,gCAAgC,GAChC,kCAAkC;EAE5C,MAAMA,WAAW,GAAGhB,SAAS,CAACiB,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,GAAG,KAAKvB,OAAO,CAACuB,GAAG,CAAC;EAEpE,oBACIzB,OAAA,CAACP,MAAM,CAACiC,GAAG;IACPC,SAAS,EAAE,uGAAuGZ,WAAW,IAAIC,SAAS,EAAG;IAC7IY,UAAU,EAAE;MAAEC,CAAC,EAAE,CAAC,CAAC;MAAEC,SAAS,EAAE1B,KAAK,KAAK,OAAO,GAAG,yEAAyE,GAAG;IAAsF,CAAE;IACxN2B,UAAU,EAAE;MAAEC,QAAQ,EAAE;IAAI,CAAE;IAAAC,QAAA,gBAE9BjC,OAAA;MACIkC,OAAO,EAAGC,CAAC,IAAK;QACZA,CAAC,CAACC,eAAe,CAAC,CAAC,CAAC,CAAC;QACrB7B,cAAc,CAACL,OAAO,CAAC;MAC3B,CAAE;MACFyB,SAAS,EAAE,0BAA0BN,mBAAmB,CAACC,WAAW,CAAC,OAAQ;MAC7E,cAAW,6BAAwB;MAAAW,QAAA,eAEnCjC,OAAA,CAACH,KAAK;QAACwC,IAAI,EAAE,EAAG;QAACC,IAAI,EAAEhB,WAAW,GAAG,cAAc,GAAG;MAAO;QAAAiB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5D,CAAC,eACT1C,OAAA,CAACR,IAAI;MAACmD,EAAE,EAAE,aAAazC,OAAO,CAACuB,GAAG,EAAG;MAACE,SAAS,EAAC,+CAA+C;MAAAM,QAAA,GAE1FW,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAE3C,OAAO,CAAC,EAC9C0C,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAE3C,OAAO,CAAC4C,MAAM,CAAC,EAC1DF,OAAO,CAACC,GAAG,CAAC,0CAA0C,EAAE3C,OAAO,CAAC4C,MAAM,IAAI5C,OAAO,CAAC4C,MAAM,CAACC,MAAM,GAAG,CAAC,GAAG7C,OAAO,CAAC4C,MAAM,CAAC,CAAC,CAAC,CAACE,GAAG,GAAG,gBAAgB,CAAC,EAC/IJ,OAAO,CAACC,GAAG,CAAC,sCAAsC,EAAE3C,OAAO,CAAC4C,MAAM,IAAI5C,OAAO,CAAC4C,MAAM,CAACC,MAAM,GAAG,CAAC,GAC1F,GAAGnC,eAAe,GAAGV,OAAO,CAAC4C,MAAM,CAAC,CAAC,CAAC,CAACE,GAAG,EAAE,GAC5C,6BAA6B,CAAC,eAEpChD,OAAA;QACI;QACAiD,GAAG,EAAE/C,OAAO,CAAC4C,MAAM,IAAI5C,OAAO,CAAC4C,MAAM,CAACC,MAAM,GAAG,CAAC,GAC1C,GAAGnC,eAAe,GAAGV,OAAO,CAAC4C,MAAM,CAAC,CAAC,CAAC,CAACE,GAAG,EAAE,GAC5C,uEAAwE,CAAC;QAAA;QAC/EE,GAAG,EAAEhD,OAAO,CAACiD,IAAK;QAClBxB,SAAS,EAAC,yCAAyC,CAAC;MAAA;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvD,CAAC,eACF1C,OAAA;QAAI2B,SAAS,EAAC,yCAAyC;QAAAM,QAAA,EAAE/B,OAAO,CAACiD;MAAI;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,EAC1ExC,OAAO,CAACkD,aAAa,gBAClBpD,OAAA;QAAK2B,SAAS,EAAC,4BAA4B;QAAAM,QAAA,gBACvCjC,OAAA;UAAM2B,SAAS,EAAE,GAAGR,aAAa,UAAW;UAAAc,QAAA,GAAE/B,OAAO,CAACmD,KAAK,EAAC,KAAG;QAAA;UAAAd,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACtE1C,OAAA;UAAM2B,SAAS,EAAE,GAAGT,kBAAkB,oBAAqB;UAAAe,QAAA,GAAE/B,OAAO,CAACkD,aAAa,EAAC,KAAG;QAAA;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5F,CAAC,gBAEN1C,OAAA;QAAM2B,SAAS,EAAE,GAAGV,UAAU,oBAAqB;QAAAgB,QAAA,GAAE/B,OAAO,CAACmD,KAAK,EAAC,KAAG;MAAA;QAAAd,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAC/E;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eACP1C,OAAA;MACIkC,OAAO,EAAGC,CAAC,IAAK;QACZA,CAAC,CAACC,eAAe,CAAC,CAAC,CAAC,CAAC;QACrB/B,SAAS,CAACH,OAAO,CAAC;MACtB,CAAE;MACFyB,SAAS,EAAE,QAAQP,WAAW,EAAG;MACjC,cAAW,aAAa;MAAAa,QAAA,eAExBjC,OAAA,CAACJ,YAAY;QAACyC,IAAI,EAAE;MAAG;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtB,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAErB,CAAC;AAACvC,EAAA,CApFIF,WAAW;EAAA,QACKP,QAAQ,EACJC,OAAO,EACSG,YAAY;AAAA;AAAAwD,EAAA,GAHhDrD,WAAW;AAsFjB,eAAeA,WAAW;AAAC,IAAAqD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}